; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py UTC_ARGS: --version 5
; RUN: llc -mtriple=armv7-unknown-none-eabihf -mattr=+neon < %s | FileCheck %s --check-prefix=LE
; RUN: llc -mtriple=armebv7-unknown-none-eabihf -mattr=+neon < %s | FileCheck %s --check-prefix=BE

define i32 @test(i64 %arg1) {
; LE-LABEL: test:
; LE:       @ %bb.0: @ %entry
; LE-NEXT:    mov r0, #1
; LE-NEXT:    bx lr
;
; BE-LABEL: test:
; BE:       @ %bb.0: @ %entry
; BE-NEXT:    mov r0, #1
; BE-NEXT:    bx lr
entry:
  %insert_zero = insertelement <8 x i64> poison, i64 %arg1, i64 0
  %splat_zero = shufflevector <8 x i64> %insert_zero, <8 x i64> poison, <8 x i32> zeroinitializer
  %cmp_vec = icmp ule <8 x i64> <i64 0, i64 1, i64 2, i64 3, i64 4, i64 5, i64 6, i64 7>, %splat_zero
  %first_cmp = extractelement <8 x i1> %cmp_vec, i32 0
  %ext = zext i1 %first_cmp to i32
  ret i32 %ext
}
